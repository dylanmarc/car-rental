(this["webpackJsonpmy-app"]=this["webpackJsonpmy-app"]||[]).push([[0],{16:function(e,t,a){},17:function(e,t,a){},18:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a(3),i=a.n(r),c=a(4),d=a.n(c),s=(a(16),a(8)),l=a(2),o=a(6),h=a(7),j=a(1),b=a(10),u=a(9),m=(a(17),[{id:Date.now()-100,carMaker:"Ford",carModel:"Mustang",manufactureYear:"2011",seats:"4",pricePerDay:50,rent:{rented:!0,rentedFrom:Date.now()-1e8,rentedTo:"",history:[]}},{id:Date.now()-200,carMaker:"Nissan",carModel:"Cube",manufactureYear:"2015",seats:"4",pricePerDay:60,rent:{rented:!1,rentedFrom:"",rentedTo:"",history:[]}},{id:Date.now()-300,carMaker:"Totoya",carModel:"Corolla",manufactureYear:"2011",seats:"4",pricePerDay:200,rent:{rented:!0,rentedFrom:Date.now()-9e8,rentedTo:"",history:[]}},{id:Date.now()-400,carMaker:"Totoya",carModel:"Corolla",manufactureYear:"2011",seats:"4",pricePerDay:55,rent:{rented:!1,rentedFrom:"",rentedTo:"",history:[]}},{id:Date.now()-500,carMaker:"Totoya",carModel:"Corolla",manufactureYear:"2011",seats:"4",pricePerDay:70,rent:{rented:!1,rentedFrom:"",rentedTo:"",history:[]}}]);function O(e,t,a,n,r,i,c){this.id=e,this.carMaker=t,this.carModel=a,this.manufactureYear=n,this.seats=r,this.pricePerDay=i,this.rent={rented:!1,rentedFrom:Date,rentedTo:Date,history:[]}}var y=function(e){Object(b.a)(a,e);var t=Object(u.a)(a);function a(e){var n;return Object(o.a)(this,a),(n=t.call(this,e)).state={data:m,make:"",model:"",year:"",seats:"",price:"",rent:{rented:!1,rentedFrom:Date,rentedTo:Date,history:[]},edit:!1,viewRent:!1,makeEdit:""},n.handleMakeChange=n.handleMakeChange.bind(Object(j.a)(n)),n.handleModelChange=n.handleModelChange.bind(Object(j.a)(n)),n.handleYearChange=n.handleYearChange.bind(Object(j.a)(n)),n.handleSeatsChange=n.handleSeatsChange.bind(Object(j.a)(n)),n.handlePriceChange=n.handlePriceChange.bind(Object(j.a)(n)),n.handleClick=n.handleClick.bind(Object(j.a)(n)),n.editCar=n.editCar.bind(Object(j.a)(n)),n.viewRent=n.viewRent.bind(Object(j.a)(n)),n.handleMakeChange=n.handleMakeChange.bind(Object(j.a)(n)),n.confirmEdit=n.confirmEdit.bind(Object(j.a)(n)),n}return Object(h.a)(a,[{key:"handleMakeChange",value:function(e){this.setState(Object(l.a)({},e.target.name,e.target.value))}},{key:"handleModelChange",value:function(e){this.setState(Object(l.a)({},e.target.name,e.target.value))}},{key:"handleYearChange",value:function(e){this.setState(Object(l.a)({},e.target.name,e.target.value))}},{key:"handleSeatsChange",value:function(e){this.setState(Object(l.a)({},e.target.name,e.target.value))}},{key:"handlePriceChange",value:function(e){this.setState(Object(l.a)({},e.target.name,e.target.value))}},{key:"handleClick",value:function(e){e.preventDefault();var t=new O(0,"carMaker","carModel","manufactureYear","seats",60);t.id=Date.now(),t.carMaker=this.state.make,t.carModel=this.state.model,t.manufactureYear=this.state.year,t.seats=this.state.seats,t.pricePerDay=this.state.price,t.carMaker.length<1&&(t.carMaker="Toyota"),t.carModel.length<1&&(t.carModel="Corolla"),t.manufactureYear.length<1&&(t.manufactureYear="2010"),t.seats.length<1&&(t.seats=4),t.pricePerDay.length<1&&(t.pricePerDay=65),this.setState({data:[].concat(Object(s.a)(this.state.data),[t])}),alert(t.carMaker+" "+t.carModel+" Added!"),this.setState({make:"",model:"",year:"",seats:"",price:""})}},{key:"confirmEdit",value:function(e,t){e.preventDefault(),alert("Edit not saved. Please refer to cover email for more details.")}},{key:"removeCar",value:function(e){alert(e.carMaker+" "+e.carModel+" ("+e.id+") has been removed"),this.setState({data:this.state.data.filter((function(t){return t.id!==e.id}))})}},{key:"editCar",value:function(e){e.edit=!e.edit,this.setState({edit:e.edit})}},{key:"rentCar",value:function(e){if(e.rent.rented=!e.rent.rented,1==e.rent.rented)e.rent.rentedFrom=Date.now();else{e.rent.rentedTo=Date.now();var t=Math.floor(Math.random()*Math.floor(50)),a=(e.rent.rentedTo-e.rent.rentedFrom)/864e5,n={from:new Intl.DateTimeFormat("en-NZ",{year:"numeric",month:"2-digit",day:"2-digit",hour:"2-digit",minute:"2-digit",second:"2-digit"}).format(e.rent.rentedFrom),to:new Intl.DateTimeFormat("en-NZ",{year:"numeric",month:"2-digit",day:"2-digit",hour:"2-digit",minute:"2-digit",second:"2-digit"}).format(e.rent.rentedTo),days:a,miles:t,price:e.pricePerDay,total:a*e.pricePerDay,totalgst:a*e.pricePerDay*1.15};e.rent.history.unshift(n)}this.setState({rent:e.rent})}},{key:"viewRent",value:function(e){e.viewRent=!e.viewRent,this.setState({edit:e.viewRent})}},{key:"handleMakeChange",value:function(e){this.setState(Object(l.a)({},e.target.name,e.target.value))}},{key:"render",value:function(){var e=this;return Object(n.jsxs)("div",{className:"main",children:[Object(n.jsx)("h1",{className:"title",children:"Little Fleet United"}),Object(n.jsx)("h2",{className:"title",children:"Rental Car Management System"}),Object(n.jsx)("div",{className:"add-car",children:Object(n.jsx)("div",{className:"add-form",children:Object(n.jsxs)("form",{children:[Object(n.jsx)("label",{children:"Make: "}),Object(n.jsx)("input",{type:"text",name:"make",placeholder:"Toyota",value:this.state.make,onChange:this.handleMakeChange}),Object(n.jsx)("br",{}),Object(n.jsx)("label",{children:"Model: "}),Object(n.jsx)("input",{type:"text",name:"model",placeholder:"Corolla",value:this.state.model,onChange:this.handleModelChange}),Object(n.jsx)("br",{}),Object(n.jsx)("label",{children:"Year: "}),Object(n.jsx)("input",{type:"number",name:"year",placeholder:"2010",value:this.state.year,onChange:this.handleYearChange}),Object(n.jsx)("br",{}),Object(n.jsx)("label",{children:"Seats: "}),Object(n.jsx)("input",{type:"number",name:"seats",placeholder:"4",value:this.state.seats,onChange:this.handleSeatsChange}),Object(n.jsx)("br",{}),Object(n.jsx)("label",{children:"Price per day: "}),Object(n.jsx)("input",{type:"number",name:"price",placeholder:"65",value:this.state.price,onChange:this.handlePriceChange}),Object(n.jsx)("br",{}),Object(n.jsx)("button",{id:"add",onClick:this.handleClick,children:"Add New Car"})]})})}),Object(n.jsx)("ul",{children:this.state.data.map((function(t){return Object(n.jsxs)("li",{className:"car",children:[Object(n.jsxs)("div",{className:"top",children:[Object(n.jsxs)("div",{className:"top-txt",children:[Object(n.jsxs)("h2",{children:[t.carMaker," ",t.carModel," ",t.rent.rented?"(Rented)":"(Available)"]}),Object(n.jsx)("br",{}),Object(n.jsxs)("p",{children:["Year: ",t.manufactureYear,Object(n.jsx)("br",{}),"Seats: ",t.seats,Object(n.jsx)("br",{}),"Price per day: $",t.pricePerDay," ",Object(n.jsx)("br",{}),"ID: ",t.id]})]}),Object(n.jsxs)("div",{className:"buttons",children:[Object(n.jsx)("button",{id:"rent",onClick:function(){return e.rentCar(t)},children:t.rent.rented?"Unrent":"Rent"}),Object(n.jsx)("button",{id:"viewRent",onClick:function(){return e.viewRent(t)},children:t.viewRent?"Close Rent History":"View Rent History"}),Object(n.jsx)("button",{id:"remove",onClick:function(){return e.removeCar(t)},children:"Delete"}),Object(n.jsx)("button",{id:"edit",onClick:function(){return e.editCar(t)},children:t.edit?"Cancel":"Edit"})]})]}),t.edit?Object(n.jsx)("div",{className:"edit-form",children:Object(n.jsxs)("form",{children:[Object(n.jsx)("label",{children:"Make: "}),Object(n.jsx)("input",{type:"text",name:"makeEdit",placeholder:"Toyota",value:e.state.makeEdit[t.id],onChange:e.handleMakeChange}),Object(n.jsx)("br",{}),Object(n.jsx)("label",{children:"Model: "}),Object(n.jsx)("input",{type:"text",name:"makeEdit",placeholder:"Corolla",value:e.state.makeEdit[t.id],onChange:e.handleMakeChange}),Object(n.jsx)("br",{}),Object(n.jsx)("label",{children:"Year: "}),Object(n.jsx)("input",{type:"text",name:"makeEdit",placeholder:"2010",value:e.state.makeEdit[t.id],onChange:e.handleMakeChange}),Object(n.jsx)("br",{}),Object(n.jsx)("label",{children:"Seats: "}),Object(n.jsx)("input",{type:"text",name:"makeEdit",placeholder:"4",value:e.state.makeEdit[t.id],onChange:e.handleMakeChange}),Object(n.jsx)("br",{}),Object(n.jsx)("label",{children:"Price per day: "}),Object(n.jsx)("input",{type:"text",name:"makeEdit",placeholder:"65",value:e.state.makeEdit[t.id],onChange:e.handleMakeChange}),Object(n.jsx)("br",{}),Object(n.jsx)("button",{id:"edit",onClick:function(a){return e.confirmEdit(a,t)},children:"Confirm"})]})}):null,t.viewRent?Object(n.jsx)("div",{children:t.rent.history.length>0?t.rent.history.map((function(e){return Object(n.jsxs)("p",{className:"history",children:["From: ",e.from,Object(n.jsx)("br",{}),"To: ",e.to,Object(n.jsx)("br",{}),"Days rented: ",e.days.toFixed(1),Object(n.jsx)("br",{}),"Miles driven: ",e.miles,Object(n.jsx)("br",{}),"Price per day: $",e.price,Object(n.jsx)("br",{}),"Total Cost: $",e.total.toFixed(2),Object(n.jsx)("br",{}),"Total Cost (GST included): $",e.totalgst.toFixed(2)]},e.days)})):Object(n.jsx)("p",{className:"history",children:"No history"})}):null]},t.id)}))})]})}}]),a}(i.a.Component);d.a.render(Object(n.jsx)(y,{}),document.getElementById("root")),d.a.render(Object(n.jsx)(i.a.StrictMode,{children:Object(n.jsx)(y,{})}),document.getElementById("root"))}},[[18,1,2]]]);
//# sourceMappingURL=main.7cb41bae.chunk.js.map